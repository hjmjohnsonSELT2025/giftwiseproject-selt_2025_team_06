<div class="login-container">
  <h1>View Event</h1>

  <% if flash[:alert] %>
    <p class="alert"><%= flash[:alert] %></p>
  <% elsif flash[:notice] %>
    <p class="notice"><%= flash[:notice] %></p>
  <% end %>

  <div>
    <%= link_to "Back to All Events", events_path, class: "btn btn-default" %>
  </div>

  <div class="event-detail">
    <p><strong>Date:</strong> <%= @event.event_date %></p>
    <p><strong>Location:</strong> <%= @event.location %></p>
    <p><strong>Budget:</strong> <%= @event.budget %></p>
    <p><strong>Theme:</strong> <%= @event.theme %></p>
  </div>

  <div class="ai-gift-ideas-container">
    <%= button_tag "AI Gift Ideas", id: "ai-gift-ideas-btn", class: "btn btn-primary", type: "button" %>
  </div>

  <div class="invite-container">
    <h3>Invite a User</h3>
    <%= form_tag invite_event_path(@event), :method => :post, :id => 'invite_event_form' do %>
        <%= text_field_tag :username, nil, placeholder: "Enter username..." %>
        <%= submit_tag "Invite", :id => 'invite-user', class: "btn btn-default" %>
    <% end %>
  </div>
</div>

<div id="chatbot-popup" class="chatbot-popup">
  <div class="chatbot-container">
    <div class="chatbot-header">
      <h3>AI Gift Ideas Assistant</h3>
      <button class="chatbot-close" id="chatbot-close-btn" type="button">&times;</button>
    </div>
    <div class="chatbot-body">
      <div id="recipient-select-container" style="display: none;">
        <label for="recipient_select">Select Recipient:</label>
        <select id="recipient_select" name="recipient_id">
          <option value="">-- Select a recipient --</option>
        </select>
      </div>
      <div id="chatbot-messages" class="chatbot-messages"></div>
      <div id="chatbot-loading" class="chatbot-loading" style="display: none;">
        <p>Generating gift ideas...</p>
      </div>
    </div>
  </div>
</div>