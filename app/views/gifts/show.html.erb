<!DOCTYPE html>
<html>
<head>
  <title>Gift Details | GiftWise</title>
  <%= stylesheet_link_tag "default", "data-turbo-track": "reload" %>
</head>

<body>
<div class="login-container">
  <h2 class="login-title">Gift Details</h2>

  <div class="gift-card">
    <div class="gift-header">
      <h2 class="gift-title"><%= @gift.name %></h2>
    </div>

    <% if @gift.price.present? %>
      <p class="gift-price"><%= number_to_currency(@gift.price) %></p>
    <% end %>

    <p class="gift-date">
      Added on <%= @gift.created_at.strftime("%Y-%m-%d") %>
      by <%= @gift.creator.username %>
    </p>

    <div class="gift-description">
      <h3>Description</h3>
      <p><%= @gift.description.presence || "No description provided." %></p>
    </div>

    <div class="gift-link" style="margin-top: 15px;">
      <% if @gift.purchase_url.present? %>
        <p>Product page:</p>
        <a href="<%= @gift.purchase_url %>" target="_blank" class="add-gift-btn">
          Open External Link
        </a>
      <% else %>
        <span class="no-url">No URL Provided</span>
      <% end %>
    </div>

    <% if @gift.creator_id == current_user.id %>
      <div class="gift-actions" style="margin-top: 20px;">
        <%= link_to "Update Item", edit_gift_path(@gift), class: "add-btn" %>

        <%= button_to "Remove Item",
                      gift_path(@gift),
                      method: :delete,
                      data: { confirm: "Are you sure you want to remove this gift?" },
                      class: "btn-danger" %>
      </div>
    <% end %>

    <div style="margin-top: 20px;">
      <%= link_to "Back to All Gifts",
                  gifts_path(request.query_parameters),
                  class: "add-gift-btn" %>
    </div>
  </div>
</div>
</body>
</html>
